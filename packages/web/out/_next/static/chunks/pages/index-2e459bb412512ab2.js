(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(4284)}])},4284:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return s}});var c=o(5893),t=o(7294);async function r(e){try{let n=await navigator.mediaDevices.getUserMedia({audio:!0});e(e=>({...e,initRecording:!0,mediaStream:n}))}catch(o){console.log(o)}}let i={recordingMinutes:0,recordingSeconds:0,initRecording:!1,mediaStream:null,mediaRecorder:null,audio:null};var a=o(3719),d=o(8070),l=o(7417),s=function(){let{recorderState:e,...n}=function(){let[e,n]=(0,t.useState)(i);return(0,t.useEffect)(()=>{let o=null;return e.initRecording?o=setInterval(()=>{n(e=>5===e.recordingMinutes&&0===e.recordingSeconds?("number"==typeof o&&clearInterval(o),e):e.recordingSeconds>=0&&e.recordingSeconds<59?{...e,recordingSeconds:e.recordingSeconds+1}:59===e.recordingSeconds?{...e,recordingMinutes:e.recordingMinutes+1,recordingSeconds:0}:e)},1e3):"number"==typeof o&&clearInterval(o),()=>{"number"==typeof o&&clearInterval(o)}}),(0,t.useEffect)(()=>{n(e=>e.mediaStream?{...e,mediaRecorder:new MediaRecorder(e.mediaStream)}:e)},[e.mediaStream]),(0,t.useEffect)(()=>{let o=e.mediaRecorder,c=[];return o&&"inactive"===o.state&&(o.start(),o.ondataavailable=e=>{c.push(e.data)},o.onstop=()=>{let e=new Blob(c,{type:"audio/ogg; codecs=opus"});c=[],n(n=>n.mediaRecorder?{...i,audio:window.URL.createObjectURL(e)}:i)}),()=>{o&&o.stream.getAudioTracks().forEach(e=>e.stop())}},[e.mediaRecorder]),{recorderState:e,startRecording:()=>r(n),cancelRecording:()=>n(i),saveRecording(){var n;"inactive"!==(n=e.mediaRecorder).state&&n.stop()}}}(),[o,s]=(0,t.useState)(void 0);(0,t.useEffect)(()=>{try{a.S.canDeviceVoiceRecord().then(e=>console.log(e.value)),a.S.requestAudioRecordingPermission().then(e=>console.log(e.value)),a.S.hasAudioRecordingPermission().then(e=>console.log(e.value))}catch(e){console.log("error",e)}},[]);let u=()=>{a.S.startRecording().then(e=>console.log(e.value)).catch(e=>console.log(e))},g=()=>{a.S.stopRecording().then(e=>{console.log(e.value),s(e.value.recordDataBase64)}).catch(e=>console.log(e))},h=()=>{a.S.pauseRecording().then(e=>console.log(e.value)).catch(e=>console.log(e))},v=()=>{a.S.resumeRecording().then(e=>console.log(e.value)).catch(e=>console.log(e))},m=()=>{a.S.getCurrentStatus().then(e=>console.log(e.status)).catch(e=>console.log(e))},R=()=>{if(void 0!==o){let e=new Audio("data:".concat("audio/aac",";base64,").concat(o));console.log("base64Sound",o),e.oncanplaythrough=()=>e.play(),e.load()}};return(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"title",children:"Voice Recorder"}),(0,c.jsxs)(l.Z,{sx:{"& button":{m:1},display:"flex",flexDirection:"column"},children:[(0,c.jsx)(d.Z,{variant:"contained",onClick:u,children:"Recording Start"}),(0,c.jsx)(d.Z,{variant:"contained",onClick:g,children:"Recording Stop"}),(0,c.jsx)(d.Z,{variant:"contained",onClick:h,children:"Recording Pause"}),(0,c.jsx)(d.Z,{variant:"contained",onClick:v,children:"Recording Resume"}),(0,c.jsx)(d.Z,{variant:"outlined",onClick:R,children:"Playing"}),(0,c.jsx)(d.Z,{variant:"outlined",onClick:m,children:"GetStatus"})]})]})}}},function(e){e.O(0,[61,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);